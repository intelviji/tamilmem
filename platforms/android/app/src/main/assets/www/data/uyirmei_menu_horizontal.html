<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html>
<head>
  <title>Memory Game - menu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link href="../css/style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../css/jquery-ui.min.css">
<link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-ui.min.js"></script>
<style type="text/css">
.backText
{
  background-color: darkred;
  color: white;
  font-size: 20px;
  font-weight: bold;
  padding:10px;

}
a:hover
{
  color:white;
  font-weight: bolder;
}

</style>

<body style="background-color:lightpink;">
<div id="horimenu">
  <div class="container-fluid">
    <div class="row" >
      <div class="col-xs-3 col-md-3 col-sm-3">
        <a href="uyirmei_menu.html" class="backText"> Back   </a>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-3 col-md-3">
			<a class="clickme" data-varisai="ka"><img src="../img/ka.jpg" class="img-responsive"> </a>
			<p> க வரிசை  </p>
		</div>
		<div class="col-xs-3 col-md-3">
			<a class="clickme" data-varisai="nga"><img src="../img/nga.jpg" class="img-responsive"> </a>
			<p> ங வரிசை  </p>
		</div>

		<div class="col-xs-3 col-md-3">
			<a class="clickme" data-varisai="cha"><img src="../img/cha.jpg" class="img-responsive"> </a>
			<p> ச வரிசை  </p>
		</div>

		<div class="col-xs-3 col-md-3">
			<a class="clickme" data-varisai="ngya" ><img src="../img/ngya.jpg" class="img-responsive"> </a>
			<p> ஞ வரிசை  </p>
		</div>
  </div> <!-- end of 1st row -->
  <div class="row">
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="da"><img src="../img/da.jpg" class="img-responsive"> </a>
  			<p> ட வரிசை  </p>
  		</div>
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="naa"><img src="../img/naa.jpg" class="img-responsive"> </a>
  			<p> ண வரிசை  </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="tha"><img src="../img/tha.jpg" class="img-responsive"> </a>
  			<p> த வரிசை  </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="na1"><img src="../img/na1.jpg" class="img-responsive"> </a>
  			<p> ந வரிசை  </p>
  		</div>


  	</div><!-- end of 2nd row -->

  	<div class="row">
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="pa"><img src="../img/pa.jpg" class="img-responsive"> </a>
  			<p> ப வரிசை  </p>
  		</div>
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="ma"><img src="../img/ma.jpg" class="img-responsive"> </a>
  			<p> ம வரிசை  </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="ya"><img src="../img/ya.jpg" class="img-responsive"> </a>
  			<p> ய வரிசை  </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="ra"><img src="../img/ra.jpg" class="img-responsive"> </a>
  			<p> ர வரிசை  </p>
  		</div>


  	</div><!-- end of 3rd row -->

  	<div class="row">
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="la"><img src="../img/la.jpg" class="img-responsive"> </a>
  			<p> ல வரிசை  </p>
  		</div>
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="va"><img src="../img/va.jpg" class="img-responsive"> </a>
  			<p> வ வரிசை </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="LLA"><img src="../img/LLA.jpg" class="img-responsive"> </a>
  			<p> ழ வரிசை </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="llla"><img src="../img/llla.jpg" class="img-responsive"> </a>
  			<p> ள வரிசை </p>
  		</div>


  	</div><!-- end of 4th row -->

  	<div class="row">


  		<div class="col-xs-3 col-md-3">
  		</div>

  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="tra"><img src="../img/tra.jpg" class="img-responsive"> </a>
  			<p> ற வரிசை     </p>
  		</div>
  		<div class="col-xs-3 col-md-3">
  			<a class="clickme" data-varisai="nna"><img src="../img/nna.jpg" class="img-responsive"> </a>
  			<p> ன வரிசை  </p>
  		</div>

  		<div class="col-xs-3 col-md-3">
  		</div>


  	</div><!-- end of 5th row -->
</div> <!-- end ofcontainer -->
</div>


<div id="levels">
	<div class="container">
		<div class="row">
			<div class="col-xs-4 col-md-4">
			<a id="gobacklevel" class="backText">Go Back</a>
			</div>
		</div> 
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="1">
					<span class="left title">Level 1</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="2">
					<span class="left title">Level 2</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div><!-- end of trow -->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="3">
					<span class="left title">Level 3</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 3 -->
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="4">
					<span class="left title">Level 4</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div><!-- end of row 4 -->
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="5">
					<span class="left title">Level 5</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 5---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="6">
					<span class="left title">Level 6</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 6 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="7">
					<span class="left title">Level 7</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 7 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="8">
					<span class="left title">Level 8</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 8 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="9">
					<span class="left title">Level 9</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 9 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="10">
					<span class="left title">Level 10</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 10 ---->


	</div>

</div>

<div id="gamearea" style="background-color: lightpink; display: none;">
	<audio id="myvoice" type="audio/ogg" src=""></audio>
	<a id="goback">Go Back</a>
	<div class="container-fluid">

		<div id="memory_board">

		</div>

	</div> <!-- end of container -->
</div>

<!-- end of dialog -->

<div id="openPop" style="display:none;position:absolute;">
	<div class="game-poup-area">
	 <div class="game-poup-start">
		 <div class="rib-area">
			 <h1><span>Level Completed</span></h1>
		 </div>
		 <div class="start-img">
			 <img src="../img/i.png"/>
		 </div>
		 <div class="con-text">
			 <p>Congratulations </p>
		 </div>
		 <div class="replay">
			 <button id="replay">
				 <img src="../img/rr.png"/>
			 </button>
			 <button id="nextnew">
				 <img src="../img/next.png"/>
			 </button>
			 
			 <button id="levelsicon">
				 <img src="../img/l.png"/>
			 </button>
		 </div>
	 </div>
	</div>
</div> 
	
	<script type="text/javascript" src="../cordova.js"></script>
	<script type="text/javascript" src="../js/admob_simple.js"></script>  
<script src="../js/array_generate.js"></script>
<script>
var memory_array;
var jcount;
var varisai="ka";
$(document).ready(function() {


var memory_values = [];
var memory_tile_ids = [];
var tiles_flipped = 0;
var stage = 1;

$("#openPop").css("display","none");
$("#gobacklevel").hide();
$("#gamearea").hide();
$("#levels").hide();
//$("#levels").show("slow");
$(".clickme").click(function(){
	varisai = $(this).data("varisai");
	$("#horimenu").hide();
	$("#gobacklevel").show();
	$("#levels").show("slow");
});
$("#levels a").click(function(){

stage = $(this).data("stage");
$("#levels").hide("slow");
	$.fn.newBoard(stage);
$("#gamearea").slideDown("slow");
});
Array.prototype.memory_tile_shuffle = function(){
    var i = this.length, j, temp;
    while(--i > 0){
        j = Math.floor(Math.random() * (i+1));
        temp = this[j];
        this[j] = this[i];
        this[i] = temp;
    }
}
$.fn.newBoard = function(stage){
	tiles_flipped = 0;
	var output = '';
jcount = 3;
prepareAds();
 generate_array(stage,varisai);
    memory_array.memory_tile_shuffle();

var icount = memory_array.length;
	for(var i = 0; i < icount; i++){
		output += '<div class="row">';
		for (var j=0; j < jcount;j++,i++)
		{
if(jcount==4)
{
	output += '<div class="col-xs-3 col-md-3"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark2.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}
else if(jcount == 6)
{
output += '<div class="col-xs-2 col-md-2"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark2.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}
else
{
		output += '<div class="col-xs-4 col-md-4"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark2.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}

		}
		output += '</div>';
		i--;
	}
	$('#memory_board').html(output);
}


//$.fn.newBoard(1);

 $(document).on("click",".tile_div",function(){

tile = $(this);
val = $(this).data("val");


//til = $(this).html().trim();
til = $(this).find("img").data("val");
if((til == "" || til == "?") && memory_values.length < 2){

//console.log("inside if");

$("#myvoice").get(0).src = "../img/" + val + ".mp3";

$(this).removeClass("bg1");
		$(this).css("background",'#FFF');

		$(this).html('<img src="../img/' + val + '.jpg" align="center"  class="img-responsive"  />');
$("#myvoice").get(0).play();
		if(memory_values.length == 0){
			memory_values.push(val);

			memory_tile_ids.push($(this).prop("id"));
		} else if(memory_values.length == 1){
			memory_values.push(val);
			memory_tile_ids.push($(this).prop("id"));
			if(memory_values[0] == memory_values[1]){
				tiles_flipped += 2;
				// Clear both arrays
				memory_values = [];
            	memory_tile_ids = [];
				// Check to see if the whole board is cleared
				if(tiles_flipped == memory_array.length){
$("#myvoice").get(0).src = "../img/applause.mp3";
$("#myvoice").get(0).play();
$("#gamearea").css("backgroundColor","#333");
$("#openPop").css("display","flex");
showInterAds();

//$("#memory_board").html("");

					//setTimeout(newBoard, 2000);

					//newBoard();
				}
			} else {
				function flip2Back(){
				    // Flip the 2 tiles back over


			//$("#"+memory_tile_ids[0]).css('background','url(qmark2.png) no-repeat');

				$("#"+memory_tile_ids[0]).html('<img src="../img/qmark2.png" data-val="?" align="center"  class="img-responsive"  />');


				//$("#"+memory_tile_ids[1]).css('background','url(qmark2.png) no-repeat');

				$("#"+memory_tile_ids[1]).html('<img src="../img/qmark2.png" data-val="?" align="center"  class="img-responsive"  />');

				    // Clear both arrays
				    memory_values = [];
            	    memory_tile_ids = [];
				}
				setTimeout(flip2Back, 700);
			}
		}
	}

});


/* next levels and replay button operations */
$("#nextnew").click(function(event){
event.preventDefault();
$("#openPop").css("display","none");
stage++;
$.fn.newBoard(stage);
});

	$("#goback").click(function()
	{
		$("#levels").slideDown("slow");
		$("#gamearea").hide("slow");
	});
$("#gobacklevel").click(function(){
	$("#levels").hide();
	$("#gamearea").hide("slow");
	$("#horimenu").show("slow");
});
$("#levelsicon").click(function(event){
event.preventDefault();
$("#openPop").css("display","none");
$("#levels").slideDown("slow");
$("#gamearea").hide("slow");
});

$("#replay").click(function(event){
event.preventDefault();
$("#openPop").css("display","none");
$.fn.newBoard(stage);
});

$(window).resize(function() {
  $("#dialog").dialog("option", "position", "center"); //places the dialog box at the center
  $("#dialog").dialog({
    width: $(window).width() > 600 ? 600 : 'auto', //resizes the dialog box as the window is resized
 });
});



});
</script>	

</body>
</html>
