<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
<html>
<head>
  <title>Memory Game - Vowels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="../css/jquery-ui.min.css">
<link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link href="../css/style.css" rel="stylesheet" type="text/css">

<link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">


<style>body{background-color:lightpink;
background-image:url();
}
a{cursor:hand;
}
div#memory_board{background-color:lightpink;
width:100%;
/*height:540px;
*/padding-left:10px;
padding-right:5px;
margin:0px 0px;
padding-top:20px;
}
div.col-xs-2
{
padding:0;
margin:0;
text-align:center;
}
div.col-xs-4
{
padding:1px;
margin:0;
text-align:center;
}
.row{margin:1px;
background-color:lightpink;
}
.tile_div{background: url(../img/qmark3.png) no-repeat;
/*background-color:#fff;
border:5px solid #88288a;
*/color:#88288a;
font-size:40px;
font-weight:bolder;
font-family:Georgia;
position:relative;
display:block;
}
img{display:block;
}
.col-xs-12{text-align:center;
padding-right:10px;
}
#goback{cursor:hand;
padding:10px;
background-color:purple;
color:#fff;
font-size:20px;
font-weight:bold;
}
</style>


</head>
<body>
<div id="levels" >
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="1">
					<span class="left title">Level 1</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="2">
					<span class="left title">Level 2</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div><!-- end of trow -->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="3">
					<span class="left title">Level 3</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 3 -->
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="4">
					<span class="left title">Level 4</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div><!-- end of row 4 -->
		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="5">
					<span class="left title">Level 5</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 5---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="6">
					<span class="left title">Level 6</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 6 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="7">
					<span class="left title">Level 7</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 7 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="8">
					<span class="left title">Level 8</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 8 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="9">
					<span class="left title">Level 9</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 9 ---->

		<div class="row">
			<div class="col-xs-12 col-md-12">
				<a class="btn right" data-stage="10">
					<span class="left title">Level 10</span>
					<span class="right icon icon-heart"><span class="arrow-right"></span></span>
				</a>
			</div>
		</div> <!-- end of row 10 ---->


	</div>

</div>

<div id="gamearea" style="background-color: lightpink; display: none;">
	<audio id="myvoice" type="audio/ogg" src=""></audio>
	<a id="goback">Go Back</a>
	<div class="container-fluid">

		<div id="memory_board">

    </div>

	</div> <!-- end of container -->
</div>

<!-- end of dialog -->
<div id="openPop" style="display:none;position:absolute;">
	<div class="game-poup-area">
	 <div class="game-poup-start">
		 <div class="rib-area">
			 <h1><span>Level Completed</span></h1>
		 </div>
		 <div class="start-img">
			 <img src="../img/i.png"/>
		 </div>
		 <div class="con-text">
			 <p>Congratulations </p>
		 </div>
		 <div class="replay">
			 <button id="replay">
				 <img src="../img/rr.png"/>
			 </button>
			 <button id="nextnew">
				 <img src="../img/next.png"/>
			 </button>
			 
			 <button id="levelsicon">
				 <img src="../img/l.png"/>
			 </button>
		 </div>
	 </div>
	</div>
</div>
	<script type="text/javascript" src="../cordova.js"></script>
	<script type="text/javascript" src="../js/admob_simple.js"></script> 	
	<script src="../js/jquery.min.js"></script>
<script src="../js/jquery-ui.min.js"></script>
<script>
$(document).ready(function() {

var memory_array;
var memory_values = [];
var memory_tile_ids = [];
var tiles_flipped = 0;
var stage = 1;
$("#openPop").css("display","none");
$("#gamearea").hide();
$("#levels").show("slow");
$("#levels a").click(function(){

stage = $(this).data("stage");
$("#levels").hide("slow");
	$.fn.newBoard(stage);
$("#gamearea").slideDown("slow");



});
Array.prototype.memory_tile_shuffle = function(){
    var i = this.length, j, temp;
    while(--i > 0){
        j = Math.floor(Math.random() * (i+1));
        temp = this[j];
        this[j] = this[i];
        this[i] = temp;
    }
}
$.fn.newBoard = function(stage){
	tiles_flipped = 0;
	var output = '';
var jcount = 3;
prepareAds();
if(stage == 1)
 memory_array = ['k','k','ng','ng','ch','ch','nya','nya','t','t','n','n'];
else if(stage == 2 )
 memory_array = ['th','th','nth','nth','pp','pp','mm','mm','iy','iy','ir','ir'];
else if(stage == 3)
 memory_array = ['il','il','ill','ill','iv','iv','illl','illl','itr','itr','in','in'];
else if(stage == 4)
{
jcount = 4;
 memory_array = ['k','k','ng','ng','ch','ch','nya','nya','t','t','n','n','th','th','nth','nth','pp','pp','mm','mm','iy','iy','ir','ir'];

}
else if(stage==5)
{
 jcount = 4;
 memory_array = ['il','il','ill','ill','iv','iv','illl','illl','itr','itr','in','in','k','k','ng','ng','ch','ch','nya','nya','t','t','n','n'];

}
else if(stage==6 || stage == 7 )
{
jcount = 4;
  memory_array = ['il','il','ill','ill','iv','iv','illl','illl','itr','itr','in','in','k','k','ng','ng','ch','ch','nya','nya','t','t','n','n','th','th','nth','nth','pp','pp','mm','mm','iy','iy','ir','ir'];

}

else if(stage == 8 || stage==9 || stage == 10 )
{
jcount = 6;
 memory_array = ['il','il','ill','ill','iv','iv','illl','illl','itr','itr','in','in','k','k','ng','ng','ch','ch','nya','nya','t','t','n','n','th','th','nth','nth','pp','pp','mm','mm','iy','iy','ir','ir'];

}
else
 memory_array = ['a','a','aa','aa','e','e','ee','ee','u','u','uu','uu'];
    memory_array.memory_tile_shuffle();

var icount = memory_array.length;
	for(var i = 0; i < icount; i++){
		output += '<div class="row">';
		for (var j=0; j < jcount;j++,i++)
		{
if(jcount==4)
{
	output += '<div class="col-xs-3 col-md-3"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark3.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}
else if(jcount == 6)
{
output += '<div class="col-xs-2 col-md-2"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark3.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}
else
{
		output += '<div class="col-xs-4 col-md-4"><div data-val="' + memory_array[i] + '" class="tile_div" id="tile_'+i+'" ><img src="../img/qmark3.png" data-val="?" align="center"  class="img-responsive"  /></div></div>';
}

		}
		output += '</div>';
		i--;
	}
	$('#memory_board').html(output);
}


//$.fn.newBoard(1);

 $(document).on("click",".tile_div",function(){

tile = $(this);
val = $(this).data("val");


//til = $(this).html().trim();
til = $(this).find("img").data("val");
if((til == "" || til == "?") && memory_values.length < 2){

//console.log("inside if");

$("#myvoice").get(0).src = "../img/" + val + ".mp3";

$(this).removeClass("bg1");
		$(this).css("background",'#FFF');

		$(this).html('<img src="../img/' + val + '.png" align="center"  class="img-responsive"  />');
$("#myvoice").get(0).play();
		if(memory_values.length == 0){
			memory_values.push(val);

			memory_tile_ids.push($(this).prop("id"));
		} else if(memory_values.length == 1){
			memory_values.push(val);
			memory_tile_ids.push($(this).prop("id"));
			if(memory_values[0] == memory_values[1]){
				tiles_flipped += 2;
				// Clear both arrays
				memory_values = [];
            	memory_tile_ids = [];
				// Check to see if the whole board is cleared
				if(tiles_flipped == memory_array.length){
$("#myvoice").get(0).src = "../img/applause.mp3";
$("#myvoice").get(0).play();
$("#gamearea").css("backgroundColor","#333");
$("#openPop").css("display","flex");
		showInterAds();

//$("#memory_board").html("");

					//setTimeout(newBoard, 2000);

					//newBoard();
				}
			} else {
				function flip2Back(){
				    // Flip the 2 tiles back over


			//$("#"+memory_tile_ids[0]).css('background','url(qmark3.png) no-repeat');

				$("#"+memory_tile_ids[0]).html('<img src="../img/qmark3.png" data-val="?" align="center"  class="img-responsive"  />');


				//$("#"+memory_tile_ids[1]).css('background','url(qmark3.png) no-repeat');

				$("#"+memory_tile_ids[1]).html('<img src="../img/qmark3.png" data-val="?" align="center"  class="img-responsive"  />');

				    // Clear both arrays
				    memory_values = [];
            	    memory_tile_ids = [];
				}
				setTimeout(flip2Back, 700);
			}
		}
	}

});


/* next levels and replay button operations */
$("#nextnew").click(function(){
	$("#openPop").css("display","none");
stage++;

$.fn.newBoard(stage);

});

	$("#goback").click(function(){

		$("#levels").slideDown("slow");
$("#gamearea").hide("slow");

	});

$("#levelsicon").click(function(){
	$("#openPop").css("display","none");
$("#levels").slideDown("slow");
$("#gamearea").hide("slow");
});

$("#replay").click(function(){
	$("#openPop").css("display","none");
$.fn.newBoard(stage);
});

$(window).resize(function() {
  $("#dialog").dialog("option", "position", "center"); //places the dialog box at the center
  $("#dialog").dialog({
    width: $(window).width() > 600 ? 600 : 'auto', //resizes the dialog box as the window is resized
 });
});



});
</script>


		
</body>
</html>
